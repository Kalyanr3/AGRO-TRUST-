{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maruti Mane\\\\product_chain_tracker\\\\src\\\\components\\\\ProductDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { productAPI } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams(); // get ID from URL\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const loadProduct = async () => {\n      try {\n        const res = await productAPI.getProductById(id);\n        setProduct(res.data);\n      } catch (err) {\n        console.error(\"‚ùå Error fetching product:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadProduct();\n  }, [id]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Loading product...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 23\n  }, this);\n  if (!product) return /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Product not found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 24\n  }, this);\n  const imageUrl = `http://localhost:8080/uploads/${product.imagePath}`;\n  const getQrUrl = qrCodePath => {\n    if (!qrCodePath) return null;\n\n    // If backend stores \"qr/filename.png\"\n    if (qrCodePath.startsWith(\"qr/\")) {\n      return `http://localhost:8080/uploads/${qrCodePath}`;\n    }\n\n    // fallback\n    return `http://localhost:8080/uploads/${qrCodePath}`;\n  };\n  const qrUrl = getQrUrl(product.qrCodePath);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-details-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageUrl,\n      alt: product.name,\n      className: \"product-details-image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Category:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 12\n        }, this), \" \", product.category]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 12\n        }, this), \" \\u20B9\", product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Batch No:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 12\n        }, this), \" \", product.batchNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Production Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 12\n        }, this), \" \", product.productionDate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 12\n        }, this), \" \", product.description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"QR Code\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: qrUrl,\n      alt: \"QR Code\",\n      className: \"qr-image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"download-btn\",\n      onClick: () => {\n        const a = document.createElement(\"a\");\n        a.href = qrUrl;\n        a.download = `QR_${product.name}.png`;\n        a.click();\n      },\n      children: \"\\uD83D\\uDCE5 Download QR\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetails, \"s9jrhS96LzByfXoyA05jnERQLK4=\", false, function () {\n  return [useParams];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","productAPI","jsxDEV","_jsxDEV","ProductDetails","_s","id","product","setProduct","loading","setLoading","loadProduct","res","getProductById","data","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","imageUrl","imagePath","getQrUrl","qrCodePath","startsWith","qrUrl","className","name","src","alt","category","price","batchNumber","productionDate","description","onClick","a","document","createElement","href","download","click","_c","$RefreshReg$"],"sources":["C:/Users/Maruti Mane/product_chain_tracker/src/components/ProductDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { productAPI } from \"../services/api\";\n\n\nconst ProductDetails = () => {\n  const { id } = useParams(); // get ID from URL\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadProduct = async () => {\n      try {\n        const res = await productAPI.getProductById(id);\n        setProduct(res.data);\n      } catch (err) {\n        console.error(\"‚ùå Error fetching product:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadProduct();\n  }, [id]);\n\n  if (loading) return <h2>Loading product...</h2>;\n  if (!product) return <h2>Product not found.</h2>;\n\n  const imageUrl = `http://localhost:8080/uploads/${product.imagePath}`;\nconst getQrUrl = (qrCodePath) => {\n  if (!qrCodePath) return null;\n\n  // If backend stores \"qr/filename.png\"\n  if (qrCodePath.startsWith(\"qr/\")) {\n    return `http://localhost:8080/uploads/${qrCodePath}`;\n  }\n\n  // fallback\n  return `http://localhost:8080/uploads/${qrCodePath}`;\n};\n    const qrUrl = getQrUrl(product.qrCodePath);\n\n  return (\n    <div className=\"product-details-container\">\n      <h2>{product.name}</h2>\n\n      <img src={imageUrl} alt={product.name} className=\"product-details-image\" />\n\n      <div className=\"info-box\">\n        <p><strong>Category:</strong> {product.category}</p>\n        <p><strong>Price:</strong> ‚Çπ{product.price}</p>\n        <p><strong>Batch No:</strong> {product.batchNumber}</p>\n        <p><strong>Production Date:</strong> {product.productionDate}</p>\n        <p><strong>Description:</strong> {product.description}</p>\n      </div>\n\n      <h3>QR Code</h3>\n      <img src={qrUrl} alt=\"QR Code\" className=\"qr-image\" />\n\n      <button\n        className=\"download-btn\"\n        onClick={() => {\n          const a = document.createElement(\"a\");\n          a.href = qrUrl;\n          a.download = `QR_${product.name}.png`;\n          a.click();\n        }}\n      >\n        üì• Download QR\n      </button>\n    </div>\n  );\n};\n\nexport default ProductDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}