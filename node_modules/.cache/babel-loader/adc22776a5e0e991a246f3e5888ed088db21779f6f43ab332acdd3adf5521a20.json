{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maruti Mane\\\\product_chain_tracker\\\\src\\\\components\\\\ProductList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { retailerAPI, cartAPI } from \"../services/api\";\nimport \"./RetailerDashboard.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductList = () => {\n  _s();\n  const [farmers, setFarmers] = useState([]);\n  const [quantities, setQuantities] = useState({});\n  const [retailer, setRetailer] = useState(null);\n  useEffect(() => {\n    const storedRetailer = JSON.parse(localStorage.getItem(\"retailer\"));\n    setRetailer(storedRetailer);\n    const fetchFarmers = async () => {\n      try {\n        const res = await retailerAPI.getAllFarmersWithProducts();\n        setFarmers(res.data);\n      } catch (err) {\n        console.error(\"Error fetching products:\", err);\n      }\n    };\n    fetchFarmers();\n  }, []);\n  const handleQuantityChange = (productId, value) => {\n    setQuantities(prev => ({\n      ...prev,\n      [productId]: Math.max(1, Number(value))\n    }));\n  };\n  const handleAddToCart = async productId => {\n    if (!retailer) return alert(\"Retailer not logged in!\");\n    const quantity = quantities[productId] || 1;\n    try {\n      await cartAPI.addToCart({\n        retailerId: retailer.id,\n        productId,\n        quantity\n      });\n      alert(\"‚úÖ Product added to cart!\");\n    } catch (error) {\n      console.error(\"Error adding to cart:\", error);\n      alert(\"‚ùå Failed to add product to cart.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDED2 All Available Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), farmers.map(farmer => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"farmer-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uD83D\\uDC68\\u200D\\uD83C\\uDF3E \", farmer.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"product-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Product Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Add to Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: farmer.products.map(product => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: product.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"\\u20B9\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:8080/uploads/${product.imageName}`,\n                alt: product.name,\n                width: \"80\",\n                height: \"80\",\n                style: {\n                  objectFit: \"cover\",\n                  borderRadius: \"8px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"1\",\n                value: quantities[product.id] || 1,\n                onChange: e => handleQuantityChange(product.id, e.target.value),\n                style: {\n                  width: \"60px\",\n                  textAlign: \"center\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add-cart-btn\",\n                onClick: () => handleAddToCart(product.id),\n                children: \"\\uD83D\\uDED2 Add to Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 19\n            }, this)]\n          }, product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)]\n    }, farmer.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductList, \"cEs3qz7b5eqTY7Q92jN37Wfd7Ek=\");\n_c = ProductList;\nexport default ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useEffect","useState","retailerAPI","cartAPI","jsxDEV","_jsxDEV","ProductList","_s","farmers","setFarmers","quantities","setQuantities","retailer","setRetailer","storedRetailer","JSON","parse","localStorage","getItem","fetchFarmers","res","getAllFarmersWithProducts","data","err","console","error","handleQuantityChange","productId","value","prev","Math","max","Number","handleAddToCart","alert","quantity","addToCart","retailerId","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","farmer","name","products","product","category","price","description","src","imageName","alt","width","height","style","objectFit","borderRadius","type","min","onChange","e","target","textAlign","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Maruti Mane/product_chain_tracker/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { retailerAPI, cartAPI } from \"../services/api\";\nimport \"./RetailerDashboard.css\";\n\nconst ProductList = () => {\n  const [farmers, setFarmers] = useState([]);\n  const [quantities, setQuantities] = useState({});\n  const [retailer, setRetailer] = useState(null);\n\n  useEffect(() => {\n    const storedRetailer = JSON.parse(localStorage.getItem(\"retailer\"));\n    setRetailer(storedRetailer);\n\n    const fetchFarmers = async () => {\n      try {\n        const res = await retailerAPI.getAllFarmersWithProducts();\n        setFarmers(res.data);\n      } catch (err) {\n        console.error(\"Error fetching products:\", err);\n      }\n    };\n    fetchFarmers();\n  }, []);\n\n  const handleQuantityChange = (productId, value) => {\n    setQuantities((prev) => ({ ...prev, [productId]: Math.max(1, Number(value)) }));\n  };\n\n  const handleAddToCart = async (productId) => {\n    if (!retailer) return alert(\"Retailer not logged in!\");\n    const quantity = quantities[productId] || 1;\n\n    try {\n      await cartAPI.addToCart({\n        retailerId: retailer.id,\n        productId,\n        quantity,\n      });\n      alert(\"‚úÖ Product added to cart!\");\n    } catch (error) {\n      console.error(\"Error adding to cart:\", error);\n      alert(\"‚ùå Failed to add product to cart.\");\n    }\n  };\n\n  return (\n    <div className=\"product-page\">\n      <h2>üõí All Available Products</h2>\n      {farmers.map((farmer) => (\n        <div key={farmer.id} className=\"farmer-block\">\n          <h3>üë®‚Äçüåæ {farmer.name}</h3>\n          <table className=\"product-table\">\n            <thead>\n              <tr>\n                <th>Product Name</th>\n                <th>Category</th>\n                <th>Price</th>\n                <th>Description</th>\n                <th>Image</th>\n                <th>Quantity</th>\n                <th>Add to Cart</th>\n              </tr>\n            </thead>\n            <tbody>\n              {farmer.products.map((product) => (\n                <tr key={product.id}>\n                  <td>{product.name}</td>\n                  <td>{product.category}</td>\n                  <td>‚Çπ{product.price}</td>\n                  <td>{product.description}</td>\n                  <td>\n                    <img\n                      src={`http://localhost:8080/uploads/${product.imageName}`}\n                      alt={product.name}\n                      width=\"80\"\n                      height=\"80\"\n                      style={{ objectFit: \"cover\", borderRadius: \"8px\" }}\n                    />\n                  </td>\n                  <td>\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      value={quantities[product.id] || 1}\n                      onChange={(e) => handleQuantityChange(product.id, e.target.value)}\n                      style={{ width: \"60px\", textAlign: \"center\" }}\n                    />\n                  </td>\n                  <td>\n                    <button\n                      className=\"add-cart-btn\"\n                      onClick={() => handleAddToCart(product.id)}\n                    >\n                      üõí Add to Cart\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}