{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = \"http://localhost:8080/api\";\n\n// Create Axios instance\nconst api = axios.create({\n  baseURL: BASE_URL,\n  withCredentials: true\n});\n\n// ---------------- Interceptors ----------------\napi.interceptors.request.use(config => {\n  config.headers.Accept = \"application/json\";\n\n  // ⭐ FIX: Proper JSON serialization so backend receives correct body\n\n  return config;\n});\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    window.location.href = \"/login\";\n  }\n  return Promise.reject(error);\n});\n\n// =============================================================\n//                        AUTH APIs\n// =============================================================\nexport const authAPI = {\n  farmerSignup: data => api.post(\"/auth/farmer/register\", data),\n  farmerLogin: data => api.post(\"/auth/farmer/login\", data),\n  farmerLogout: () => api.post(\"/auth/farmer/logout\"),\n  retailerSignup: data => api.post(\"/retailer/auth/signup\", data),\n  retailerLogin: data => api.post(\"/retailer/auth/login\", data),\n  retailerLogout: () => api.post(\"/retailer/auth/logout\"),\n  transporterSignup: data => api.post(\"/transporters/signup\", data),\n  transporterLogin: data => api.post(\"/transporters/login\", data)\n};\n\n// =============================================================\n//                        USER APIs\n// =============================================================\nexport const userAPI = {\n  signup: data => api.post(\"/user/signup\", data),\n  login: data => api.post(\"/user/login\", data),\n  // Buy Product\n  buyProduct: payload => api.post(\"/purchase/buy\", payload),\n  // User Purchase History\n  getPurchaseHistory: userId => api.get(`/purchase/history/${userId}`)\n};\n\n// =============================================================\n//                        FARMER APIs\n// =============================================================\nexport const farmerAPI = {\n  getAllFarmers: () => api.get(\"/farmers/all\"),\n  getById: id => api.get(`/farmers/${id}`),\n  getFarmersWithProducts: () => api.get(\"/farmers/with-products\"),\n  getFarmerOrders: farmerId => api.get(`/orders/farmer/${farmerId}/orders`)\n};\n\n// =============================================================\n//                        RETAILER APIs\n// =============================================================\nexport const retailerAPI = {\n  signup: data => api.post(\"/retailer/auth/signup\", data),\n  login: data => api.post(\"/retailer/auth/login\", data),\n  logout: () => api.post(\"/retailer/auth/logout\"),\n  getAllFarmersWithProducts: () => api.get(\"/farmers/with-products\"),\n  getFarmerById: id => api.get(`/farmers/${id}`),\n  getAllRetailers: () => api.get(\"/retailers/all\"),\n  // Retailer Products for User\n  getRetailerProducts: retailerId => api.get(`/products/retailer/${retailerId}`)\n};\n\n// =============================================================\n//                      TRANSPORTER APIs\n// =============================================================\nexport const transporterAPI = {\n  signup: data => api.post(\"/transporters/signup\", data),\n  login: data => api.post(\"/transporters/login\", data),\n  getAll: () => api.get(\"/transporters\")\n};\n\n// =============================================================\n//                        PRODUCT APIs\n// =============================================================\nexport const productAPI = {\n  addProduct: formData => api.post(\"/products/add\", formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  }),\n  getMyProducts: email => api.get(`/products/my/${encodeURIComponent(email)}`),\n  getProductsByFarmerId: farmerId => api.get(`/products/farmer/${farmerId}`),\n  getAllProducts: () => api.get(\"/products\"),\n  getProductById: id => api.get(`/products/${id}`)\n};\n\n// =============================================================\n//                        CART APIs\n// =============================================================\nexport const cartAPI = {\n  addToCart: (retailerId, productId, quantity) => api.post(\"/cart/add\", {\n    retailerId,\n    productId,\n    quantity\n  }),\n  getCart: retailerId => api.get(`/cart/${retailerId}`),\n  updateQuantity: (itemId, payload) => api.put(`/cart/update/${itemId}`, payload),\n  removeItem: itemId => api.delete(`/cart/remove/${itemId}`),\n  clearCart: retailerId => api.delete(`/cart/clear/${retailerId}`)\n};\n\n// =============================================================\n//                        ORDER APIs\n// =============================================================\nexport const orderAPI = {\n  placeOrder: (retailerId, paymentMethod = \"Online\") => api.post(`/orders/place/${retailerId}?paymentMethod=${paymentMethod}`),\n  getRetailerOrders: retailerId => api.get(`/orders/retailer/${retailerId}`),\n  getOrderDetails: orderId => api.get(`/orders/${orderId}`),\n  getOrdersForTransporter: transporterId => api.get(`/orders/transporter/${transporterId}`),\n  assignTransport: (orderId, data) => api.post(`/orders/assign-transport/${orderId}`, data),\n  updateTransportStatus: (orderId, status) => api.put(`/orders/update-status/${orderId}`, null, {\n    params: {\n      status: status\n    }\n  }),\n  confirmReceipt: orderId => api.put(`/orders/confirm/${orderId}`),\n  retailerConfirm: (orderId, confirmed) => api.put(`/orders/retailer-confirm/${orderId}`, null, {\n    params: {\n      confirmed: confirmed\n    }\n  }),\n  getDeliveredOrders: retailerId => api.get(`/orders/delivered/${retailerId}`)\n};\nexport default api;","map":{"version":3,"names":["axios","BASE_URL","api","create","baseURL","withCredentials","interceptors","request","use","config","headers","Accept","response","error","_error$response","status","window","location","href","Promise","reject","authAPI","farmerSignup","data","post","farmerLogin","farmerLogout","retailerSignup","retailerLogin","retailerLogout","transporterSignup","transporterLogin","userAPI","signup","login","buyProduct","payload","getPurchaseHistory","userId","get","farmerAPI","getAllFarmers","getById","id","getFarmersWithProducts","getFarmerOrders","farmerId","retailerAPI","logout","getAllFarmersWithProducts","getFarmerById","getAllRetailers","getRetailerProducts","retailerId","transporterAPI","getAll","productAPI","addProduct","formData","getMyProducts","email","encodeURIComponent","getProductsByFarmerId","getAllProducts","getProductById","cartAPI","addToCart","productId","quantity","getCart","updateQuantity","itemId","put","removeItem","delete","clearCart","orderAPI","placeOrder","paymentMethod","getRetailerOrders","getOrderDetails","orderId","getOrdersForTransporter","transporterId","assignTransport","updateTransportStatus","params","confirmReceipt","retailerConfirm","confirmed","getDeliveredOrders"],"sources":["C:/Users/Maruti Mane/product_chain_tracker/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"http://localhost:8080/api\";\n\n// Create Axios instance\nconst api = axios.create({\n  baseURL: BASE_URL,\n  withCredentials: true,\n});\n\n// ---------------- Interceptors ----------------\napi.interceptors.request.use((config) => {\n  config.headers.Accept = \"application/json\";\n\n  // ⭐ FIX: Proper JSON serialization so backend receives correct body\n\n\n  return config;\n});\n\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      window.location.href = \"/login\";\n    }\n    return Promise.reject(error);\n  }\n);\n\n// =============================================================\n//                        AUTH APIs\n// =============================================================\nexport const authAPI = {\n  farmerSignup: (data) => api.post(\"/auth/farmer/register\", data),\n  farmerLogin: (data) => api.post(\"/auth/farmer/login\", data),\n  farmerLogout: () => api.post(\"/auth/farmer/logout\"),\n\n  retailerSignup: (data) => api.post(\"/retailer/auth/signup\", data),\n  retailerLogin: (data) => api.post(\"/retailer/auth/login\", data),\n  retailerLogout: () => api.post(\"/retailer/auth/logout\"),\n\n  transporterSignup: (data) => api.post(\"/transporters/signup\", data),\n  transporterLogin: (data) => api.post(\"/transporters/login\", data),\n};\n\n// =============================================================\n//                        USER APIs\n// =============================================================\nexport const userAPI = {\n  signup: (data) => api.post(\"/user/signup\", data),\n  login: (data) => api.post(\"/user/login\", data),\n\n  // Buy Product\n  buyProduct: (payload) => api.post(\"/purchase/buy\", payload),\n\n  // User Purchase History\n  getPurchaseHistory: (userId) => api.get(`/purchase/history/${userId}`),\n};\n\n// =============================================================\n//                        FARMER APIs\n// =============================================================\nexport const farmerAPI = {\n  getAllFarmers: () => api.get(\"/farmers/all\"),\n  getById: (id) => api.get(`/farmers/${id}`),\n  getFarmersWithProducts: () => api.get(\"/farmers/with-products\"),\n  getFarmerOrders: (farmerId) => api.get(`/orders/farmer/${farmerId}/orders`),\n};\n\n// =============================================================\n//                        RETAILER APIs\n// =============================================================\nexport const retailerAPI = {\n  signup: (data) => api.post(\"/retailer/auth/signup\", data),\n  login: (data) => api.post(\"/retailer/auth/login\", data),\n  logout: () => api.post(\"/retailer/auth/logout\"),\n\n  getAllFarmersWithProducts: () => api.get(\"/farmers/with-products\"),\n  getFarmerById: (id) => api.get(`/farmers/${id}`),\n\n  getAllRetailers: () => api.get(\"/retailers/all\"),\n\n  // Retailer Products for User\n  getRetailerProducts: (retailerId) =>\n    api.get(`/products/retailer/${retailerId}`),\n};\n\n// =============================================================\n//                      TRANSPORTER APIs\n// =============================================================\nexport const transporterAPI = {\n  signup: (data) => api.post(\"/transporters/signup\", data),\n  login: (data) => api.post(\"/transporters/login\", data),\n  getAll: () => api.get(\"/transporters\"),\n};\n\n// =============================================================\n//                        PRODUCT APIs\n// =============================================================\nexport const productAPI = {\n  addProduct: (formData) =>\n    api.post(\"/products/add\", formData, {\n      headers: { \"Content-Type\": \"multipart/form-data\" },\n    }),\n\n  getMyProducts: (email) =>\n    api.get(`/products/my/${encodeURIComponent(email)}`),\n\n  getProductsByFarmerId: (farmerId) =>\n    api.get(`/products/farmer/${farmerId}`),\n\n  getAllProducts: () => api.get(\"/products\"),\n\n  getProductById: (id) => api.get(`/products/${id}`),\n};\n\n// =============================================================\n//                        CART APIs\n// =============================================================\nexport const cartAPI = {\n  addToCart: (retailerId, productId, quantity) =>\n    api.post(\"/cart/add\", { retailerId, productId, quantity }),\n\n  getCart: (retailerId) => api.get(`/cart/${retailerId}`),\n\n  updateQuantity: (itemId, payload) =>\n    api.put(`/cart/update/${itemId}`, payload),\n\n  removeItem: (itemId) => api.delete(`/cart/remove/${itemId}`),\n\n  clearCart: (retailerId) => api.delete(`/cart/clear/${retailerId}`),\n};\n\n// =============================================================\n//                        ORDER APIs\n// =============================================================\nexport const orderAPI = {\n  placeOrder: (retailerId, paymentMethod = \"Online\") =>\n    api.post(`/orders/place/${retailerId}?paymentMethod=${paymentMethod}`),\n\n  getRetailerOrders: (retailerId) =>\n    api.get(`/orders/retailer/${retailerId}`),\n\n  getOrderDetails: (orderId) => api.get(`/orders/${orderId}`),\n\n  getOrdersForTransporter: (transporterId) =>\n    api.get(`/orders/transporter/${transporterId}`),\n\n  assignTransport: (orderId, data) =>\n    api.post(`/orders/assign-transport/${orderId}`, data),\n\n  updateTransportStatus: (orderId, status) =>\n    api.put(`/orders/update-status/${orderId}`, null, {\n      params: { status: status },\n    }),\n\n  confirmReceipt: (orderId) => api.put(`/orders/confirm/${orderId}`),\n\n  retailerConfirm: (orderId, confirmed) =>\n    api.put(`/orders/retailer-confirm/${orderId}`, null, {\n      params: { confirmed: confirmed },\n    }),\n\n  getDeliveredOrders: (retailerId) =>\n    api.get(`/orders/delivered/${retailerId}`),\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}