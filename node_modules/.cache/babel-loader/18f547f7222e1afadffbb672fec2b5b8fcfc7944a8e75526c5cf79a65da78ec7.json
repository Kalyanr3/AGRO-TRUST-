{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = \"http://localhost:8080/api\";\n\n// Global axios instance\nconst api = axios.create({\n  baseURL: BASE_URL,\n  withCredentials: true\n});\n\n// -------------------------------------------------------------\n// REQUEST INTERCEPTOR\n// -------------------------------------------------------------\napi.interceptors.request.use(config => {\n  config.headers.Accept = \"application/json\";\n  if (!(config.data instanceof FormData)) {\n    config.headers[\"Content-Type\"] = \"application/json\";\n  }\n  return config;\n});\n\n// -------------------------------------------------------------\n// RESPONSE INTERCEPTOR\n// -------------------------------------------------------------\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    window.location.href = \"/login\";\n  }\n  return Promise.reject(error);\n});\n\n// =============================================================\n//                      FARMER APIs (FIXED)\n// =============================================================\nexport const farmerAPI = {\n  getAllFarmers: () => api.get(\"/farmers/all\"),\n  getById: id => api.get(`/farmers/${id}`),\n  // NEW: GET FARMERS + PRODUCTS\n  getFarmersWithProducts: () => api.get(\"/farmers/with-products\")\n};\n\n// =============================================================\n//                      RETAILER APIs  (FIXED)\n// =============================================================\nexport const retailerAPI = {\n  signup: data => api.post(\"/retailer/auth/signup\", data),\n  login: data => api.post(\"/retailer/auth/login\", data),\n  logout: () => api.post(\"/retailer/auth/logout\"),\n  // FIXED BASE URL\n  getAllFarmersWithProducts: () => api.get(\"/farmers/with-products\"),\n  getFarmerById: id => api.get(`/farmers/${id}`)\n};\n\n// =============================================================\n//                      TRANSPORTER APIs\n// =============================================================\nexport const transporterAPI = {\n  signup: data => api.post(\"/transporters/signup\", data),\n  login: data => api.post(\"/transporters/login\", data),\n  getAll: () => api.get(\"/transporters\")\n};\n\n// =============================================================\n//                       PRODUCT APIs\n// =============================================================\nexport const productAPI = {\n  addProduct: formData => api.post(\"/products/add\", formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  }),\n  getMyProducts: () => api.get(\"/products/my\"),\n  getAllProducts: () => api.get(\"/products\"),\n  getProductsByFarmerId: farmerId => api.get(`/products/farmer/${farmerId}`)\n};\n\n// =============================================================\n//                        CART APIs\n// =============================================================\nexport const cartAPI = {\n  addToCart: (retailerId, productId, quantity) => api.post(\"/cart/add\", {\n    retailerId,\n    productId,\n    quantity\n  }),\n  getCart: retailerId => api.get(`/cart/${retailerId}`),\n  updateQuantity: (itemId, payload) => api.put(`/cart/update/${itemId}`, payload),\n  removeItem: itemId => api.delete(`/cart/remove/${itemId}`),\n  clearCart: retailerId => api.delete(`/cart/clear/${retailerId}`)\n};\n\n// =============================================================\n//                        ORDER APIs\n// =============================================================\nexport const orderAPI = {\n  placeOrder: (retailerId, paymentMethod = \"Online\") => api.post(`/orders/place/${retailerId}?paymentMethod=${paymentMethod}`),\n  getRetailerOrders: retailerId => api.get(`/orders/retailer/${retailerId}`),\n  getRetailerDeliveredOrders: retailerId => api.get(`/orders/retailer/${retailerId}/delivered`),\n  confirmReceipt: orderId => api.put(`/orders/confirm-receipt/${orderId}`),\n  getOrderDetails: orderId => api.get(`/orders/details/${orderId}`),\n  getFarmerOrders: farmerId => api.get(`/orders/farmer/${farmerId}`),\n  assignTransport: (orderId, data) => api.post(`/orders/assign-transport/${orderId}`, data),\n  getTransporterOrders: transporterId => api.get(`/orders/transporter/${transporterId}`),\n  updateTransportStatus: (orderId, status) => api.post(`/orders/status/${orderId}`, null, {\n    params: {\n      status\n    }\n  })\n};\nexport default api;","map":{"version":3,"names":["axios","BASE_URL","api","create","baseURL","withCredentials","interceptors","request","use","config","headers","Accept","data","FormData","response","error","_error$response","status","window","location","href","Promise","reject","farmerAPI","getAllFarmers","get","getById","id","getFarmersWithProducts","retailerAPI","signup","post","login","logout","getAllFarmersWithProducts","getFarmerById","transporterAPI","getAll","productAPI","addProduct","formData","getMyProducts","getAllProducts","getProductsByFarmerId","farmerId","cartAPI","addToCart","retailerId","productId","quantity","getCart","updateQuantity","itemId","payload","put","removeItem","delete","clearCart","orderAPI","placeOrder","paymentMethod","getRetailerOrders","getRetailerDeliveredOrders","confirmReceipt","orderId","getOrderDetails","getFarmerOrders","assignTransport","getTransporterOrders","transporterId","updateTransportStatus","params"],"sources":["C:/Users/Maruti Mane/product_chain_tracker/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"http://localhost:8080/api\";\n\n// Global axios instance\nconst api = axios.create({\n  baseURL: BASE_URL,\n  withCredentials: true,\n});\n\n// -------------------------------------------------------------\n// REQUEST INTERCEPTOR\n// -------------------------------------------------------------\napi.interceptors.request.use((config) => {\n  config.headers.Accept = \"application/json\";\n\n  if (!(config.data instanceof FormData)) {\n    config.headers[\"Content-Type\"] = \"application/json\";\n  }\n\n  return config;\n});\n\n// -------------------------------------------------------------\n// RESPONSE INTERCEPTOR\n// -------------------------------------------------------------\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      window.location.href = \"/login\";\n    }\n    return Promise.reject(error);\n  }\n);\n\n// =============================================================\n//                      FARMER APIs (FIXED)\n// =============================================================\nexport const farmerAPI = {\n  getAllFarmers: () => api.get(\"/farmers/all\"),\n  getById: (id) => api.get(`/farmers/${id}`),\n\n  // NEW: GET FARMERS + PRODUCTS\n  getFarmersWithProducts: () => api.get(\"/farmers/with-products\"),\n};\n\n// =============================================================\n//                      RETAILER APIs  (FIXED)\n// =============================================================\nexport const retailerAPI = {\n  signup: (data) => api.post(\"/retailer/auth/signup\", data),\n  login: (data) => api.post(\"/retailer/auth/login\", data),\n  logout: () => api.post(\"/retailer/auth/logout\"),\n\n  // FIXED BASE URL\n  getAllFarmersWithProducts: () => api.get(\"/farmers/with-products\"),\n\n  getFarmerById: (id) => api.get(`/farmers/${id}`),\n};\n\n// =============================================================\n//                      TRANSPORTER APIs\n// =============================================================\nexport const transporterAPI = {\n  signup: (data) => api.post(\"/transporters/signup\", data),\n  login: (data) => api.post(\"/transporters/login\", data),\n  getAll: () => api.get(\"/transporters\"),\n};\n\n// =============================================================\n//                       PRODUCT APIs\n// =============================================================\nexport const productAPI = {\n  addProduct: (formData) =>\n    api.post(\"/products/add\", formData, {\n      headers: { \"Content-Type\": \"multipart/form-data\" },\n    }),\n\n  getMyProducts: () => api.get(\"/products/my\"),\n  getAllProducts: () => api.get(\"/products\"),\n  getProductsByFarmerId: (farmerId) => api.get(`/products/farmer/${farmerId}`),\n};\n\n// =============================================================\n//                        CART APIs\n// =============================================================\nexport const cartAPI = {\n  addToCart: (retailerId, productId, quantity) =>\n    api.post(\"/cart/add\", { retailerId, productId, quantity }),\n\n  getCart: (retailerId) => api.get(`/cart/${retailerId}`),\n\n  updateQuantity: (itemId, payload) =>\n    api.put(`/cart/update/${itemId}`, payload),\n\n  removeItem: (itemId) => api.delete(`/cart/remove/${itemId}`),\n\n  clearCart: (retailerId) => api.delete(`/cart/clear/${retailerId}`),\n};\n\n// =============================================================\n//                        ORDER APIs\n// =============================================================\nexport const orderAPI = {\n  placeOrder: (retailerId, paymentMethod = \"Online\") =>\n    api.post(`/orders/place/${retailerId}?paymentMethod=${paymentMethod}`),\n\n  getRetailerOrders: (retailerId) =>\n    api.get(`/orders/retailer/${retailerId}`),\n\n  getRetailerDeliveredOrders: (retailerId) =>\n    api.get(`/orders/retailer/${retailerId}/delivered`),\n\n  confirmReceipt: (orderId) =>\n    api.put(`/orders/confirm-receipt/${orderId}`),\n\n  getOrderDetails: (orderId) =>\n    api.get(`/orders/details/${orderId}`),\n\n  getFarmerOrders: (farmerId) =>\n    api.get(`/orders/farmer/${farmerId}`),\n\n  assignTransport: (orderId, data) =>\n    api.post(`/orders/assign-transport/${orderId}`, data),\n\n  getTransporterOrders: (transporterId) =>\n    api.get(`/orders/transporter/${transporterId}`),\n\n  updateTransportStatus: (orderId, status) =>\n    api.post(`/orders/status/${orderId}`, null, {\n      params: { status },\n    }),\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}