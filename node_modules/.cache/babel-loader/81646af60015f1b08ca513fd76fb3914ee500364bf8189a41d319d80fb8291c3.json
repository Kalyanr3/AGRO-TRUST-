{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maruti Mane\\\\product_chain_tracker\\\\src\\\\components\\\\FarmerProducts.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { retailerAPI, cartAPI } from \"../services/api\";\nimport \"./FarmerProducts.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FarmerProducts = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [products, setProducts] = useState([]);\n  const [quantities, setQuantities] = useState({});\n  const [farmer, setFarmer] = useState(null);\n  const [retailer, setRetailer] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const storedRetailer = JSON.parse(localStorage.getItem(\"retailer\"));\n    if (!storedRetailer) {\n      alert(\"Please log in as a retailer first!\");\n      navigate(\"/retailer/login\");\n      return;\n    }\n    setRetailer(storedRetailer);\n    retailerAPI.getFarmerById(id).then(res => {\n      setFarmer(res.data);\n      setProducts(res.data.products || []);\n    }).catch(err => console.error(\"Error fetching farmer:\", err));\n  }, [id, navigate]);\n  const handleAddToCart = async productId => {\n    if (!retailer) {\n      alert(\"Retailer info not found. Please login again.\");\n      return;\n    }\n    const quantity = quantities[productId] || 1;\n    try {\n      await cartAPI.addToCart(retailer.id, productId, quantity);\n      alert(\"‚úÖ Product added to cart successfully!\");\n    } catch (err) {\n      console.error(\"Error adding to cart:\", err);\n      alert(\"‚ùå Failed to add to cart.\");\n    }\n  };\n  if (!farmer) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"loading-text\",\n    children: \"\\uD83C\\uDF3F Loading farmer products...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 12\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"farmer-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"farmer-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"\\uD83D\\uDC68\\u200D\\uD83C\\uDF3E \", farmer.name, \"'s Fresh Produce\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Category: \", farmer.category || \"Organic Produce\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-btn\",\n        onClick: () => navigate(\"/retailer/dashboard\"),\n        children: \"\\u2190 Back to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-grid\",\n      children: products.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-products\",\n        children: \"No products available from this farmer.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this) : products.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `/uploads/${p.image}` || \"/default-product.jpg\",\n            alt: p.name,\n            onError: e => e.target.src = \"/default-product.jpg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: p.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"category\",\n            children: p.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"desc\",\n            children: p.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"price\",\n            children: [\"\\u20B9\", p.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"1\",\n            value: quantities[p.id] || 1,\n            onChange: e => setQuantities({\n              ...quantities,\n              [p.id]: e.target.value\n            }),\n            className: \"qty-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-btn\",\n            onClick: () => handleAddToCart(p.id),\n            children: \"\\uD83D\\uDED2 Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, this)]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(FarmerProducts, \"wOYp+/eBskbqQxu1gtFg59O/fDQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = FarmerProducts;\nexport default FarmerProducts;\nvar _c;\n$RefreshReg$(_c, \"FarmerProducts\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","retailerAPI","cartAPI","jsxDEV","_jsxDEV","FarmerProducts","_s","id","products","setProducts","quantities","setQuantities","farmer","setFarmer","retailer","setRetailer","navigate","storedRetailer","JSON","parse","localStorage","getItem","alert","getFarmerById","then","res","data","catch","err","console","error","handleAddToCart","productId","quantity","addToCart","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","category","onClick","length","map","p","src","image","alt","onError","e","target","description","price","type","min","value","onChange","_c","$RefreshReg$"],"sources":["C:/Users/Maruti Mane/product_chain_tracker/src/components/FarmerProducts.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { retailerAPI, cartAPI } from \"../services/api\";\nimport \"./FarmerProducts.css\";\n\nconst FarmerProducts = () => {\n  const { id } = useParams();\n  const [products, setProducts] = useState([]);\n  const [quantities, setQuantities] = useState({});\n  const [farmer, setFarmer] = useState(null);\n  const [retailer, setRetailer] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const storedRetailer = JSON.parse(localStorage.getItem(\"retailer\"));\n    if (!storedRetailer) {\n      alert(\"Please log in as a retailer first!\");\n      navigate(\"/retailer/login\");\n      return;\n    }\n    setRetailer(storedRetailer);\n\n    retailerAPI\n      .getFarmerById(id)\n      .then((res) => {\n        setFarmer(res.data);\n        setProducts(res.data.products || []);\n      })\n      .catch((err) => console.error(\"Error fetching farmer:\", err));\n  }, [id, navigate]);\n\n  const handleAddToCart = async (productId) => {\n    if (!retailer) {\n      alert(\"Retailer info not found. Please login again.\");\n      return;\n    }\n\n    const quantity = quantities[productId] || 1;\n\n    try {\n      await cartAPI.addToCart(retailer.id, productId, quantity);\n      alert(\"‚úÖ Product added to cart successfully!\");\n    } catch (err) {\n      console.error(\"Error adding to cart:\", err);\n      alert(\"‚ùå Failed to add to cart.\");\n    }\n  };\n\n  if (!farmer)\n    return <p className=\"loading-text\">üåø Loading farmer products...</p>;\n\n  return (\n    <div className=\"farmer-dashboard\">\n      {/* üîπ Top Dashboard Header */}\n      <header className=\"dashboard-header\">\n        <div className=\"farmer-info\">\n          <h1>üë®‚Äçüåæ {farmer.name}'s Fresh Produce</h1>\n          <p>Category: {farmer.category || \"Organic Produce\"}</p>\n        </div>\n        <button\n          className=\"back-btn\"\n          onClick={() => navigate(\"/retailer/dashboard\")}\n        >\n          ‚Üê Back to Dashboard\n        </button>\n      </header>\n\n      {/* üîπ Product Grid */}\n      <div className=\"products-grid\">\n        {products.length === 0 ? (\n          <p className=\"no-products\">No products available from this farmer.</p>\n        ) : (\n          products.map((p) => (\n            <div key={p.id} className=\"product-card\">\n              <div className=\"product-img\">\n                <img\n                  src={`/uploads/${p.image}` || \"/default-product.jpg\"}\n                  alt={p.name}\n                  onError={(e) => (e.target.src = \"/default-product.jpg\")}\n                />\n              </div>\n              <div className=\"product-details\">\n                <h3>{p.name}</h3>\n                <p className=\"category\">{p.category}</p>\n                <p className=\"desc\">{p.description}</p>\n                <p className=\"price\">‚Çπ{p.price}</p>\n              </div>\n              <div className=\"product-actions\">\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  value={quantities[p.id] || 1}\n                  onChange={(e) =>\n                    setQuantities({ ...quantities, [p.id]: e.target.value })\n                  }\n                  className=\"qty-input\"\n                />\n                <button\n                  className=\"add-btn\"\n                  onClick={() => handleAddToCart(p.id)}\n                >\n                  üõí Add\n                </button>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FarmerProducts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}