{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maruti Mane\\\\product_chain_tracker\\\\src\\\\components\\\\TransportDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { transportAPI } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TransportDashboard = () => {\n  _s();\n  const transporter = JSON.parse(localStorage.getItem(\"transporter\"));\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (transporter) {\n      transportAPI.getByTransporter(transporter.id).then(res => setOrders(res.data.data || [])).catch(() => alert(\"‚ö†Ô∏è Failed to load assigned transports.\")).finally(() => setLoading(false));\n    }\n  }, [transporter]);\n  const handleStatusUpdate = async (orderId, newStatus) => {\n    try {\n      await transportAPI.updateStatus(orderId, newStatus);\n      alert(`‚úÖ Status updated to ${newStatus}`);\n      setOrders(prev => prev.map(o => o.orderId === orderId ? {\n        ...o,\n        status: newStatus\n      } : o));\n    } catch {\n      alert(\"‚ùå Could not update status. Try again later.\");\n    }\n  };\n  if (!transporter) return /*#__PURE__*/_jsxDEV(\"h3\", {\n    children: \"\\u26A0\\uFE0F Please login as transporter to view dashboard.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 12\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"\\uD83D\\uDE9B Welcome, \", transporter.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u23F3 Loading transports...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) : orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No transports assigned yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"1\",\n      cellPadding: \"8\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Order ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Farmer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Retailer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Vehicle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Driver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: orders.map(t => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: t.orderId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: t.farmerName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: t.retailerName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: t.vehicleNo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: t.driverName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: t.contact\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: t.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [t.status === \"Assigned\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleStatusUpdate(t.orderId, \"On the Way\"),\n              children: \"\\uD83D\\uDE9A Start\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this), t.status === \"On the Way\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleStatusUpdate(t.orderId, \"Delivered\"),\n              children: \"\\u2705 Deliver\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 21\n            }, this), t.status === \"Delivered\" && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u2714\\uFE0F Done\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 48\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)]\n        }, t.transportId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(TransportDashboard, \"ug8UXigqZ8+/aovEHLbbhGhrhf4=\");\n_c = TransportDashboard;\nexport default TransportDashboard;\nvar _c;\n$RefreshReg$(_c, \"TransportDashboard\");","map":{"version":3,"names":["React","useEffect","useState","transportAPI","jsxDEV","_jsxDEV","TransportDashboard","_s","transporter","JSON","parse","localStorage","getItem","orders","setOrders","loading","setLoading","getByTransporter","id","then","res","data","catch","alert","finally","handleStatusUpdate","orderId","newStatus","updateStatus","prev","map","o","status","children","fileName","_jsxFileName","lineNumber","columnNumber","className","name","length","border","cellPadding","t","farmerName","retailerName","vehicleNo","driverName","contact","onClick","transportId","_c","$RefreshReg$"],"sources":["C:/Users/Maruti Mane/product_chain_tracker/src/components/TransportDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { transportAPI } from \"../services/api\";\n\nconst TransportDashboard = () => {\n  const transporter = JSON.parse(localStorage.getItem(\"transporter\"));\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (transporter) {\n      transportAPI\n        .getByTransporter(transporter.id)\n        .then((res) => setOrders(res.data.data || []))\n        .catch(() => alert(\"‚ö†Ô∏è Failed to load assigned transports.\"))\n        .finally(() => setLoading(false));\n    }\n  }, [transporter]);\n\n  const handleStatusUpdate = async (orderId, newStatus) => {\n    try {\n      await transportAPI.updateStatus(orderId, newStatus);\n      alert(`‚úÖ Status updated to ${newStatus}`);\n      setOrders((prev) =>\n        prev.map((o) =>\n          o.orderId === orderId ? { ...o, status: newStatus } : o\n        )\n      );\n    } catch {\n      alert(\"‚ùå Could not update status. Try again later.\");\n    }\n  };\n\n  if (!transporter)\n    return <h3>‚ö†Ô∏è Please login as transporter to view dashboard.</h3>;\n\n  return (\n    <div className=\"dashboard\">\n      <h2>üöõ Welcome, {transporter.name}</h2>\n      {loading ? (\n        <p>‚è≥ Loading transports...</p>\n      ) : orders.length === 0 ? (\n        <p>No transports assigned yet.</p>\n      ) : (\n        <table border=\"1\" cellPadding=\"8\">\n          <thead>\n            <tr>\n              <th>Order ID</th>\n              <th>Farmer</th>\n              <th>Retailer</th>\n              <th>Vehicle</th>\n              <th>Driver</th>\n              <th>Contact</th>\n              <th>Status</th>\n              <th>Update</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map((t) => (\n              <tr key={t.transportId}>\n                <td>{t.orderId}</td>\n                <td>{t.farmerName}</td>\n                <td>{t.retailerName}</td>\n                <td>{t.vehicleNo}</td>\n                <td>{t.driverName}</td>\n                <td>{t.contact}</td>\n                <td>{t.status}</td>\n                <td>\n                  {t.status === \"Assigned\" && (\n                    <button\n                      onClick={() => handleStatusUpdate(t.orderId, \"On the Way\")}\n                    >\n                      üöö Start\n                    </button>\n                  )}\n                  {t.status === \"On the Way\" && (\n                    <button\n                      onClick={() => handleStatusUpdate(t.orderId, \"Delivered\")}\n                    >\n                      ‚úÖ Deliver\n                    </button>\n                  )}\n                  {t.status === \"Delivered\" && <span>‚úîÔ∏è Done</span>}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n};\n\nexport default TransportDashboard;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,YAAY,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;EACnE,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,IAAIO,WAAW,EAAE;MACfL,YAAY,CACTc,gBAAgB,CAACT,WAAW,CAACU,EAAE,CAAC,CAChCC,IAAI,CAAEC,GAAG,IAAKN,SAAS,CAACM,GAAG,CAACC,IAAI,CAACA,IAAI,IAAI,EAAE,CAAC,CAAC,CAC7CC,KAAK,CAAC,MAAMC,KAAK,CAAC,wCAAwC,CAAC,CAAC,CAC5DC,OAAO,CAAC,MAAMR,UAAU,CAAC,KAAK,CAAC,CAAC;IACrC;EACF,CAAC,EAAE,CAACR,WAAW,CAAC,CAAC;EAEjB,MAAMiB,kBAAkB,GAAG,MAAAA,CAAOC,OAAO,EAAEC,SAAS,KAAK;IACvD,IAAI;MACF,MAAMxB,YAAY,CAACyB,YAAY,CAACF,OAAO,EAAEC,SAAS,CAAC;MACnDJ,KAAK,CAAC,uBAAuBI,SAAS,EAAE,CAAC;MACzCb,SAAS,CAAEe,IAAI,IACbA,IAAI,CAACC,GAAG,CAAEC,CAAC,IACTA,CAAC,CAACL,OAAO,KAAKA,OAAO,GAAG;QAAE,GAAGK,CAAC;QAAEC,MAAM,EAAEL;MAAU,CAAC,GAAGI,CACxD,CACF,CAAC;IACH,CAAC,CAAC,MAAM;MACNR,KAAK,CAAC,6CAA6C,CAAC;IACtD;EACF,CAAC;EAED,IAAI,CAACf,WAAW,EACd,oBAAOH,OAAA;IAAA4B,QAAA,EAAI;EAAiD;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;EAEnE,oBACEhC,OAAA;IAAKiC,SAAS,EAAC,WAAW;IAAAL,QAAA,gBACxB5B,OAAA;MAAA4B,QAAA,GAAI,wBAAY,EAACzB,WAAW,CAAC+B,IAAI;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EACtCtB,OAAO,gBACNV,OAAA;MAAA4B,QAAA,EAAG;IAAuB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,GAC5BxB,MAAM,CAAC2B,MAAM,KAAK,CAAC,gBACrBnC,OAAA;MAAA4B,QAAA,EAAG;IAA2B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAElChC,OAAA;MAAOoC,MAAM,EAAC,GAAG;MAACC,WAAW,EAAC,GAAG;MAAAT,QAAA,gBAC/B5B,OAAA;QAAA4B,QAAA,eACE5B,OAAA;UAAA4B,QAAA,gBACE5B,OAAA;YAAA4B,QAAA,EAAI;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjBhC,OAAA;YAAA4B,QAAA,EAAI;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACfhC,OAAA;YAAA4B,QAAA,EAAI;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjBhC,OAAA;YAAA4B,QAAA,EAAI;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChBhC,OAAA;YAAA4B,QAAA,EAAI;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACfhC,OAAA;YAAA4B,QAAA,EAAI;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChBhC,OAAA;YAAA4B,QAAA,EAAI;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACfhC,OAAA;YAAA4B,QAAA,EAAI;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACRhC,OAAA;QAAA4B,QAAA,EACGpB,MAAM,CAACiB,GAAG,CAAEa,CAAC,iBACZtC,OAAA;UAAA4B,QAAA,gBACE5B,OAAA;YAAA4B,QAAA,EAAKU,CAAC,CAACjB;UAAO;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACpBhC,OAAA;YAAA4B,QAAA,EAAKU,CAAC,CAACC;UAAU;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACvBhC,OAAA;YAAA4B,QAAA,EAAKU,CAAC,CAACE;UAAY;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACzBhC,OAAA;YAAA4B,QAAA,EAAKU,CAAC,CAACG;UAAS;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACtBhC,OAAA;YAAA4B,QAAA,EAAKU,CAAC,CAACI;UAAU;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACvBhC,OAAA;YAAA4B,QAAA,EAAKU,CAAC,CAACK;UAAO;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACpBhC,OAAA;YAAA4B,QAAA,EAAKU,CAAC,CAACX;UAAM;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACnBhC,OAAA;YAAA4B,QAAA,GACGU,CAAC,CAACX,MAAM,KAAK,UAAU,iBACtB3B,OAAA;cACE4C,OAAO,EAAEA,CAAA,KAAMxB,kBAAkB,CAACkB,CAAC,CAACjB,OAAO,EAAE,YAAY,CAAE;cAAAO,QAAA,EAC5D;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT,EACAM,CAAC,CAACX,MAAM,KAAK,YAAY,iBACxB3B,OAAA;cACE4C,OAAO,EAAEA,CAAA,KAAMxB,kBAAkB,CAACkB,CAAC,CAACjB,OAAO,EAAE,WAAW,CAAE;cAAAO,QAAA,EAC3D;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT,EACAM,CAAC,CAACX,MAAM,KAAK,WAAW,iBAAI3B,OAAA;cAAA4B,QAAA,EAAM;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/C,CAAC;QAAA,GAxBEM,CAAC,CAACO,WAAW;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAyBlB,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC9B,EAAA,CAvFID,kBAAkB;AAAA6C,EAAA,GAAlB7C,kBAAkB;AAyFxB,eAAeA,kBAAkB;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}