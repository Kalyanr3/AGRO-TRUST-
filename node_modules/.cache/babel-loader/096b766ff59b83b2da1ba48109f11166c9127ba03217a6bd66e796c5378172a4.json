{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maruti Mane\\\\product_chain_tracker\\\\src\\\\components\\\\RetailerOrders.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { orderAPI } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RetailerOrders = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const retailer = JSON.parse(localStorage.getItem(\"retailer\"));\n  const fetchOrders = async id => {\n    try {\n      const res = await orderAPI.getOrders(id);\n      const data = res.data;\n\n      // ✅ Guarantee it's an array before setting\n      if (Array.isArray(data)) {\n        setOrders(data);\n      } else if (data && data.orders && Array.isArray(data.orders)) {\n        setOrders(data.orders);\n      } else {\n        console.error(\"Unexpected data format:\", data);\n        setOrders([]);\n      }\n    } catch (err) {\n      console.error(\"Error fetching orders:\", err);\n      setOrders([]);\n    }\n  };\n  useEffect(() => {\n    if (retailer) fetchOrders(retailer.id);\n  }, [retailer]); // ✅ included retailer\n\n  /*#__PURE__*/_jsxDEV(\"table\", {\n    className: \"orders-table\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Order ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Total Amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Payment Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: orders.map(o => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: o.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: new Date(o.createdAt).toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\"\\u20B9\", o.totalAmount.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: o.paymentMethod\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          style: {\n            color: o.paymentStatus === \"Paid\" ? \"green\" : \"orange\",\n            fontWeight: \"bold\"\n          },\n          children: o.paymentStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this)]\n      }, o.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 2\n  }, this);\n};\n_s(RetailerOrders, \"FvMuVccH6DXI6fqfhJiN/VsjZaw=\");\n_c = RetailerOrders;\nexport default RetailerOrders;\nvar _c;\n$RefreshReg$(_c, \"RetailerOrders\");","map":{"version":3,"names":["React","useEffect","useState","orderAPI","jsxDEV","_jsxDEV","RetailerOrders","_s","orders","setOrders","retailer","JSON","parse","localStorage","getItem","fetchOrders","id","res","getOrders","data","Array","isArray","console","error","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","o","Date","createdAt","toLocaleString","totalAmount","toFixed","paymentMethod","style","color","paymentStatus","fontWeight","_c","$RefreshReg$"],"sources":["C:/Users/Maruti Mane/product_chain_tracker/src/components/RetailerOrders.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { orderAPI } from \"../services/api\";\n\nconst RetailerOrders = () => {\n  const [orders, setOrders] = useState([]);\n  const retailer = JSON.parse(localStorage.getItem(\"retailer\"));\n\n  \n  const fetchOrders = async (id) => {\n  try {\n    const res = await orderAPI.getOrders(id);\n    const data = res.data;\n\n    // ✅ Guarantee it's an array before setting\n    if (Array.isArray(data)) {\n      setOrders(data);\n    } else if (data && data.orders && Array.isArray(data.orders)) {\n      setOrders(data.orders);\n    } else {\n      console.error(\"Unexpected data format:\", data);\n      setOrders([]);\n    }\n  } catch (err) {\n    console.error(\"Error fetching orders:\", err);\n    setOrders([]);\n  }\n};\n\n\n  useEffect(() => {\n    if (retailer) fetchOrders(retailer.id);\n  }, [retailer]); // ✅ included retailer\n\n <table className=\"orders-table\">\n  <thead>\n    <tr>\n      <th>Order ID</th>\n      <th>Date</th>\n      <th>Total Amount</th>\n      <th>Payment Method</th>\n      <th>Status</th>\n    </tr>\n  </thead>\n  <tbody>\n    {orders.map((o) => (\n      <tr key={o.id}>\n        <td>{o.id}</td>\n        <td>{new Date(o.createdAt).toLocaleString()}</td>\n        <td>₹{o.totalAmount.toFixed(2)}</td>\n        <td>{o.paymentMethod}</td>\n        <td\n          style={{\n            color: o.paymentStatus === \"Paid\" ? \"green\" : \"orange\",\n            fontWeight: \"bold\",\n          }}\n        >\n          {o.paymentStatus}\n        </td>\n      </tr>\n    ))}\n  </tbody>\n</table>\n};\n\nexport default RetailerOrders;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}