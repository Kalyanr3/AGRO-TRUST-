{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maruti Mane\\\\product_chain_tracker\\\\src\\\\components\\\\ProductDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { productAPI } from \"../services/api\";\nimport \"./ProductDetails.css\"; // optional styling\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams(); // Product ID from route\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // ======================================================\n  // üî• Load Product by ID\n  // ======================================================\n  useEffect(() => {\n    const loadProduct = async () => {\n      try {\n        const res = await productAPI.getProductById(id);\n        setProduct(res.data);\n      } catch (err) {\n        console.error(\"‚ùå Error fetching product:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadProduct();\n  }, [id]);\n\n  // ======================================================\n  // ‚è≥ Loading / No Product\n  // ======================================================\n  if (loading) return /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Loading product...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 23\n  }, this);\n  if (!product) return /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Product not found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 24\n  }, this);\n\n  // ======================================================\n  // üì∑ Image URL\n  // ======================================================\n  const imageUrl = product.imagePath ? `http://localhost:8080/uploads/${product.imagePath}` : null;\n\n  // ======================================================\n  // üîß QR URL Helper (same fix as ProductList)\n  // ======================================================\n  const getQrUrl = qrCodePath => {\n    if (!qrCodePath) return null;\n    if (qrCodePath.startsWith(\"qr/\")) {\n      return `http://localhost:8080/uploads/${qrCodePath}`;\n    }\n    return `http://localhost:8080/uploads/${qrCodePath}`;\n  };\n  const qrUrl = getQrUrl(product.qrCodePath);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-details-container\",\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginBottom: \"15px\"\n      },\n      children: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageUrl,\n      alt: product.name,\n      className: \"product-details-image\",\n      style: {\n        width: \"300px\",\n        borderRadius: \"10px\",\n        marginBottom: \"20px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No Image Available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-box\",\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Category:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), \" \", product.category]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), \" \\u20B9\", product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Batch No:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), \" \", product.batchNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Production Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), \" \", product.productionDate ? new Date(product.productionDate).toLocaleDateString() : \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), \" \", product.description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"QR Code\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), qrUrl ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: qrUrl,\n        alt: \"QR Code\",\n        className: \"qr-image\",\n        style: {\n          width: \"200px\",\n          border: \"2px solid #ccc\",\n          padding: \"10px\",\n          borderRadius: \"10px\",\n          background: \"#fff\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"download-btn\",\n        style: {\n          marginTop: \"12px\",\n          background: \"#008cff\",\n          color: \"white\",\n          padding: \"10px 20px\",\n          fontSize: \"16px\",\n          border: \"none\",\n          borderRadius: \"8px\",\n          cursor: \"pointer\"\n        },\n        onClick: () => {\n          const a = document.createElement(\"a\");\n          a.href = qrUrl;\n          a.download = `QR_${product.name}.png`;\n          a.click();\n        },\n        children: \"\\uD83D\\uDCE5 Download QR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No QR Code Available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetails, \"s9jrhS96LzByfXoyA05jnERQLK4=\", false, function () {\n  return [useParams];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","productAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetails","_s","id","product","setProduct","loading","setLoading","loadProduct","res","getProductById","data","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","imageUrl","imagePath","getQrUrl","qrCodePath","startsWith","qrUrl","className","style","padding","marginBottom","name","src","alt","width","borderRadius","category","price","batchNumber","productionDate","Date","toLocaleDateString","description","border","background","marginTop","color","fontSize","cursor","onClick","a","document","createElement","href","download","click","_c","$RefreshReg$"],"sources":["C:/Users/Maruti Mane/product_chain_tracker/src/components/ProductDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { productAPI } from \"../services/api\";\nimport \"./ProductDetails.css\"; // optional styling\n\nconst ProductDetails = () => {\n  const { id } = useParams(); // Product ID from route\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // ======================================================\n  // üî• Load Product by ID\n  // ======================================================\n  useEffect(() => {\n    const loadProduct = async () => {\n      try {\n        const res = await productAPI.getProductById(id);\n        setProduct(res.data);\n      } catch (err) {\n        console.error(\"‚ùå Error fetching product:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadProduct();\n  }, [id]);\n\n  // ======================================================\n  // ‚è≥ Loading / No Product\n  // ======================================================\n  if (loading) return <h2>Loading product...</h2>;\n  if (!product) return <h2>Product not found.</h2>;\n\n  // ======================================================\n  // üì∑ Image URL\n  // ======================================================\n  const imageUrl = product.imagePath\n    ? `http://localhost:8080/uploads/${product.imagePath}`\n    : null;\n\n  // ======================================================\n  // üîß QR URL Helper (same fix as ProductList)\n  // ======================================================\n  const getQrUrl = (qrCodePath) => {\n    if (!qrCodePath) return null;\n\n    if (qrCodePath.startsWith(\"qr/\")) {\n      return `http://localhost:8080/uploads/${qrCodePath}`;\n    }\n\n    return `http://localhost:8080/uploads/${qrCodePath}`;\n  };\n\n  const qrUrl = getQrUrl(product.qrCodePath);\n\n  return (\n    <div className=\"product-details-container\" style={{ padding: \"20px\" }}>\n      <h2 style={{ marginBottom: \"15px\" }}>{product.name}</h2>\n\n      {/* PRODUCT IMAGE */}\n      {imageUrl ? (\n        <img\n          src={imageUrl}\n          alt={product.name}\n          className=\"product-details-image\"\n          style={{\n            width: \"300px\",\n            borderRadius: \"10px\",\n            marginBottom: \"20px\",\n          }}\n        />\n      ) : (\n        <p>No Image Available</p>\n      )}\n\n      {/* PRODUCT INFO */}\n      <div className=\"info-box\" style={{ marginBottom: \"20px\" }}>\n        <p>\n          <strong>Category:</strong> {product.category}\n        </p>\n        <p>\n          <strong>Price:</strong> ‚Çπ{product.price}\n        </p>\n        <p>\n          <strong>Batch No:</strong> {product.batchNumber}\n        </p>\n        <p>\n          <strong>Production Date:</strong>{\" \"}\n          {product.productionDate\n            ? new Date(product.productionDate).toLocaleDateString()\n            : \"N/A\"}\n        </p>\n        <p>\n          <strong>Description:</strong> {product.description}\n        </p>\n      </div>\n\n      {/* QR CODE */}\n      <h3>QR Code</h3>\n\n      {qrUrl ? (\n        <>\n          <img\n            src={qrUrl}\n            alt=\"QR Code\"\n            className=\"qr-image\"\n            style={{\n              width: \"200px\",\n              border: \"2px solid #ccc\",\n              padding: \"10px\",\n              borderRadius: \"10px\",\n              background: \"#fff\",\n            }}\n          />\n\n          <br />\n\n          {/* DOWNLOAD BUTTON */}\n          <button\n            className=\"download-btn\"\n            style={{\n              marginTop: \"12px\",\n              background: \"#008cff\",\n              color: \"white\",\n              padding: \"10px 20px\",\n              fontSize: \"16px\",\n              border: \"none\",\n              borderRadius: \"8px\",\n              cursor: \"pointer\",\n            }}\n            onClick={() => {\n              const a = document.createElement(\"a\");\n              a.href = qrUrl;\n              a.download = `QR_${product.name}.png`;\n              a.click();\n            }}\n          >\n            üì• Download QR\n          </button>\n        </>\n      ) : (\n        <p>No QR Code Available</p>\n      )}\n    </div>\n  );\n};\n\nexport default ProductDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}